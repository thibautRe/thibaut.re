extends ../layout/base

block header
  header.header--main#js-header--main
    .header--main-stats
      .container
        img(src="assets/img/thibautremy.jpg", alt="Thibaut REMY photo").header--main-stats-me
        h1.header--main-stats-title Thibaut REMY
          small Front-end Developer

        ul.stats-wrapper.clearfix
          li.stat
            h3.stat-name Age
            strong.stat-value#js-age 23.45664

          li.stat
            h3.stat-name Current location
            strong.stat-value Paris (FRANCE)

          li.stat
            h3.stat-name Coffees drank today
            strong.stat-value#js-coffees 4.3

          li.stat
            h3.stat-name Number of Swedish words learnt
            strong.stat-value#js-swedishwords 154

          li.stat
            h3.stat-name Lines of code written
            strong.stat-value#js-codelines 124423

          li.stat
            h3.stat-name 3D polygons generated
            strong.stat-value#js-codelines 25.234

block intro
  .intro#js-intro
    .intro-1 Hi
    .intro-2
      | I'm 
      span#js-carrousel-intro.intro-carrousel Thibaut

block body
  .content
    nav.header--main-nav#js-header-nav
      a(href="/").header--main-link
        img.header--main-me(src="assets/img/thibautremy.jpg", alt="Thibaut REMY photo")
        h1.header--main-title THIBAUT.RE

    h2.content-title My projects
      small.content-title-desc Some projects I've been working on

    .projectcards.clearfix
      each project in projects
        a.projectcard(href="/project/" + project.urlname)
          .projectcard-imgwrapper
            img(src=project.thumb_url).projectcard-img
            .projectcard-imgtriangles

          .projectcard-content
            header.projectcard-header
              h3.projectcard-title= project.name
                small.projectcard-subtitle= project.type
            p.projectcard-desc= project.description

            h3 Technologies
              ul.projectcard-techs
                each tech in project.technologies
                  li.projectcard-tech= tech
                
    h2.content-title Hire-me
      small.content-title-desc I'm currently available for hire !

    p.
      Just write me your offer at hire-me@thibaut.re

block scripts
  script(src="scripts/carrousel.js", type="text/javascript")
  script(src="scripts/age.js", type="text/javascript")
  script(src="scripts/stat.js", type="text/javascript")
  script(src="scripts/stickyheader.js", type="text/javascript")
  script(type="text/javascript").
    var fastIntro = true;

    var carrousel = new Carrousel(document.getElementById('js-carrousel-intro'));
    carrousel.words = [
      "Thibaut",
      "an engineer",
      "a hacker",
      "a designer",
      "an entrepreuneur",
      "an explorer",
      "an artist",
      "a drawer",
      "a UX lover",
      "a musician",
      "a animation maker",
      "a coder",
      "a coffee drinker",
      "a web enthusiast",
      "a ninja",
      "Thibaut"
    ];
    carrousel.options.runOnce = true;
    carrousel.options.initialSpeed = 1000;
    carrousel.options.finalSpeed = 100;

    // Hide the intro, show the header
    var introEnd = function() {
      var header = document.getElementById('js-header--main');
      var intro  = document.getElementById('js-intro');
      var content  = document.getElementById('js-content');
      header.className += " is-ready";
      setTimeout(function() {
        header.className += " is-visible";
        intro.className += " is-ready";
        content.className += " is-ready";
        setTimeout(function() {
          intro.className += " is-hidden";
          content.className += " is-visible";
          setTimeout(function() {
            content.className += " is-finished";
          }, 500);
        }, 500);

      }, 1500);
    };

    if (fastIntro) {
      introEnd();
    }
    else {
      carrousel.setFinalCallback(introEnd);
      setTimeout(function() {
        carrousel.run();
      }, 3200);
    }

    // Age
    var myAge = new Age(new Date("1991-09-21"));
    var myAgeStat = new Stat(document.getElementById("js-age"), 100);
    myAgeStat.calculateFunction = function() {
      return myAge.calculate();
    };
    myAgeStat.run();

    // Lines of code
    var codelinesStat = new Stat(document.getElementById("js-codelines"));
    codelinesStat.calculateFunction = function(oldValue) {
      oldValue = parseFloat(oldValue);
      return oldValue + Math.round(Math.random()*3-1);
    };
    codelinesStat.run();

    // coffees
    var coffeesStat = new Stat(document.getElementById("js-coffees"), 5000);
    coffeesStat.calculateFunction = function(oldValue) {
      oldValue = parseFloat(oldValue);
      return (10*oldValue + Math.floor(Math.random()*1.2))/10
    };
    coffeesStat.run();


    // Sticky header
    var stickyHeader = new StickyHeader(document.getElementById("js-header-nav"), 200);
    stickyHeader.run();
